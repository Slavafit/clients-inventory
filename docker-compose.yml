version: '3.8'

services:
  bot-app:
    # Имя сервиса (может быть любым)
    container_name: inventory-bot-service
    
    # Собираем образ из текущей директории, используя Dockerfile
    build: .
    
    # 1. Порты: 3000 (внутри контейнера) -> 3000 (на хост-машине)
    # Это позволяет принимать Webhooks от WhatsApp на порту 3000
    ports:
      - "3000:3000"
      
    # 2. Передача переменных окружения
    # Это самый чистый способ: Docker автоматически загрузит переменные 
    # из вашего локального файла .env
    env_file:
      - .env
      
    # 3. Автоматический перезапуск в случае сбоя
    restart: always